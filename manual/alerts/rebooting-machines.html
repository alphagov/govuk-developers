




<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>Reboot a machine - GOV.UK Developer Documentation</title>

    <link href="/stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://docs.publishing.service.gov.uk/manual/alerts/rebooting-machines.html">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="docs.publishing.service.gov.uk" />
      <meta name="twitter:image" content="https://docs.publishing.service.gov.uk/images/govuk-large.png" />
      <meta name="twitter:title" content="Reboot a machine - GOV.UK Developer Documentation" />
      <meta name="twitter:url" content="https://docs.publishing.service.gov.uk/manual/alerts/rebooting-machines.html" />

      <meta property="og:image" content="https://docs.publishing.service.gov.uk/images/govuk-large.png" />
      <meta property="og:site_name" content="GOV.UK Developer Documentation" />
      <meta property="og:title" content="Reboot a machine" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://docs.publishing.service.gov.uk/manual/alerts/rebooting-machines.html" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="/" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__logotype">
          <svg
            aria-hidden="true"
            focusable="false"
            class="govuk-header__logotype-crown"
            xmlns="http://www.w3.org/2000/svg"
            viewbox="0 0 132 97"
            height="30"
            width="36"
          >
            <path
              fill="currentColor" fill-rule="evenodd"
              d="M25 30.2c3.5 1.5 7.7-.2 9.1-3.7 1.5-3.6-.2-7.8-3.9-9.2-3.6-1.4-7.6.3-9.1 3.9-1.4 3.5.3 7.5 3.9 9zM9 39.5c3.6 1.5 7.8-.2 9.2-3.7 1.5-3.6-.2-7.8-3.9-9.1-3.6-1.5-7.6.2-9.1 3.8-1.4 3.5.3 7.5 3.8 9zM4.4 57.2c3.5 1.5 7.7-.2 9.1-3.8 1.5-3.6-.2-7.7-3.9-9.1-3.5-1.5-7.6.3-9.1 3.8-1.4 3.5.3 7.6 3.9 9.1zm38.3-21.4c3.5 1.5 7.7-.2 9.1-3.8 1.5-3.6-.2-7.7-3.9-9.1-3.6-1.5-7.6.3-9.1 3.8-1.3 3.6.4 7.7 3.9 9.1zm64.4-5.6c-3.6 1.5-7.8-.2-9.1-3.7-1.5-3.6.2-7.8 3.8-9.2 3.6-1.4 7.7.3 9.2 3.9 1.3 3.5-.4 7.5-3.9 9zm15.9 9.3c-3.6 1.5-7.7-.2-9.1-3.7-1.5-3.6.2-7.8 3.7-9.1 3.6-1.5 7.7.2 9.2 3.8 1.5 3.5-.3 7.5-3.8 9zm4.7 17.7c-3.6 1.5-7.8-.2-9.2-3.8-1.5-3.6.2-7.7 3.9-9.1 3.6-1.5 7.7.3 9.2 3.8 1.3 3.5-.4 7.6-3.9 9.1zM89.3 35.8c-3.6 1.5-7.8-.2-9.2-3.8-1.4-3.6.2-7.7 3.9-9.1 3.6-1.5 7.7.3 9.2 3.8 1.4 3.6-.3 7.7-3.9 9.1zM69.7 17.7l8.9 4.7V9.3l-8.9 2.8c-.2-.3-.5-.6-.9-.9L72.4 0H59.6l3.5 11.2c-.3.3-.6.5-.9.9l-8.8-2.8v13.1l8.8-4.7c.3.3.6.7.9.9l-5 15.4v.1c-.2.8-.4 1.6-.4 2.4 0 4.1 3.1 7.5 7 8.1h.2c.3 0 .7.1 1 .1.4 0 .7 0 1-.1h.2c4-.6 7.1-4.1 7.1-8.1 0-.8-.1-1.7-.4-2.4V34l-5.1-15.4c.4-.2.7-.6 1-.9zM66 92.8c16.9 0 32.8 1.1 47.1 3.2 4-16.9 8.9-26.7 14-33.5l-9.6-3.4c1 4.9 1.1 7.2 0 10.2-1.5-1.4-3-4.3-4.2-8.7L108.6 76c2.8-2 5-3.2 7.5-3.3-4.4 9.4-10 11.9-13.6 11.2-4.3-.8-6.3-4.6-5.6-7.9 1-4.7 5.7-5.9 8-.5 4.3-8.7-3-11.4-7.6-8.8 7.1-7.2 7.9-13.5 2.1-21.1-8 6.1-8.1 12.3-4.5 20.8-4.7-5.4-12.1-2.5-9.5 6.2 3.4-5.2 7.9-2 7.2 3.1-.6 4.3-6.4 7.8-13.5 7.2-10.3-.9-10.9-8-11.2-13.8 2.5-.5 7.1 1.8 11 7.3L80.2 60c-4.1 4.4-8 5.3-12.3 5.4 1.4-4.4 8-11.6 8-11.6H55.5s6.4 7.2 7.9 11.6c-4.2-.1-8-1-12.3-5.4l1.4 16.4c3.9-5.5 8.5-7.7 10.9-7.3-.3 5.8-.9 12.8-11.1 13.8-7.2.6-12.9-2.9-13.5-7.2-.7-5 3.8-8.3 7.1-3.1 2.7-8.7-4.6-11.6-9.4-6.2 3.7-8.5 3.6-14.7-4.6-20.8-5.8 7.6-5 13.9 2.2 21.1-4.7-2.6-11.9.1-7.7 8.8 2.3-5.5 7.1-4.2 8.1.5.7 3.3-1.3 7.1-5.7 7.9-3.5.7-9-1.8-13.5-11.2 2.5.1 4.7 1.3 7.5 3.3l-4.7-15.4c-1.2 4.4-2.7 7.2-4.3 8.7-1.1-3-.9-5.3 0-10.2l-9.5 3.4c5 6.9 9.9 16.7 14 33.5 14.8-2.1 30.8-3.2 47.7-3.2z"
            ></path>
            <image src="/assets/images/govuk-logotype-crown.png" xlink:href="" class="govuk-header__logotype-crown-fallback-image" width="36" height="32"></image>
          </svg>
          <span class="govuk-header__logotype-text">
            GOV.UK
          </span>
        </span>
        <span class="govuk-header__product-name">
          Developer docs
        </span>
      </a>
    </div>
    <div class="govuk-header__content">
      <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" aria-label="Show or hide Top Level Navigation">Menu</button>
      <nav>
        <ul id="navigation" class="govuk-header__navigation govuk-header__navigation--end" aria-label="Top Level Navigation">
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/manual/get-started.html">Get started</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/apps.html">Apps</a>
            </li>
            <li class="govuk-header__navigation-item govuk-header__navigation-item--active">
              <a class="govuk-header__link" href="/manual.html">Manual</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/content-schemas.html">Schemas</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/document-types.html">Document types</a>
            </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1" aria-label="Table of contents" role="dialog">
              <div class="search" data-module="search">
  <form action="https://www.google.co.uk/search" method="get" role="search" class="search__form govuk-!-margin-bottom-4">
    <input type="hidden" name="as_sitesearch" value="https://docs.publishing.service.gov.uk"/>
    <label class="govuk-label search__label" for="search" aria-hidden="true">
      Search (via Google)
    </label>
    <input
      type="text"
      id="search" name="q"
      class="govuk-input govuk-!-margin-bottom-0 search__input"
      aria-controls="search-results"
      placeholder="Search">
    <button type="submit" class="search__button">Search</button>
  </form>
  <div id="search-results" class="search-results" aria-hidden="true" role="dialog" aria-labelledby="search-results-title">
    <div class="search-results__inner">
      <button class="search-results__close">Close<span class="search-results__close-label"> search results</span></button>
      <h2 id="search-results-title" class="search-results__title" aria-live="assertive" role="alert">Results</h2>
      <div class="search-results__content"></div>
    </div>
  </div>
</div>

              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
                  <a href='/manual.html' class="toc__back-link govuk-link">&lsaquo; Manual</a>
  <ul>
  <li>
    <a href="#header"><span>Reboot a machine</span></a>
    <ul>
      <li>
        <a href="#automatic-rebooting"><span>Automatic rebooting</span></a>
        <ul>
          <li>
            <a href="#checking-locking-status"><span>Checking locking status</span></a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#manual-rebooting"><span>Manual rebooting</span></a>
        <ul>
          <li>
            <a href="#rules-of-manual-rebooting"><span>Rules of manual rebooting</span></a>
          </li>
          <li>
            <a href="#rebooting-one-machine"><span>Rebooting one machine</span></a>
          </li>
          <li>
            <a href="#rebooting-guidance-for-aws"><span>Rebooting guidance for AWS</span></a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#special-cases"><span>Special cases</span></a>
        <ul>
          <li>
            <a href="#rebooting-jenkins-ci-agents"><span>Rebooting Jenkins CI agents</span></a>
          </li>
          <li>
            <a href="#rebooting-cache-machines-in-aws"><span>Rebooting Cache machines in AWS</span></a>
          </li>
          <li>
            <a href="#rebooting-mongodb-machines"><span>Rebooting MongoDB machines</span></a>
          </li>
          <li>
            <a href="#rebooting-redis-machines"><span>Rebooting Redis machines</span></a>
          </li>
          <li>
            <a href="#rebooting-rabbitmq-machines"><span>Rebooting RabbitMQ machines</span></a>
          </li>
          <li>
            <a href="#rebooting-asset-primary-and-secondary-machines"><span>Rebooting asset primary and secondary machines</span></a>
          </li>
          <li>
            <a href="#rebooting-router-backend-machines"><span>Rebooting router-backend machines</span></a>
          </li>
          <li>
            <a href="#rebooting-jumpbox-machines"><span>Rebooting jumpbox machines</span></a>
          </li>
          <li>
            <a href="#rebooting-docker-management"><span>Rebooting docker-management</span></a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>


              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
            
  <p><a href='/manual.html#infrastructure'>Infrastructure</a></p>   <div class="govuk-!-font-size-16 govuk-!-margin-top-6">

  Last updated: <a href="https://github.com/alphagov/govuk-developer-docs/commit/9ba52660950982bbc0e38ae16ee524710e942a47">19 Apr 2021</a>
</div>

 <h1 id='header'>Reboot a machine</h1> <p>Under normal circumstances most machines reboot automatically when an update is required.
Some machines need to be rebooted manually.</p>
<p>Note that much of the following documentation assumes you have correctly
<a href="https://github.com/alphagov/fabric-scripts#setup">set up your fabric scripts</a>.</p>
<h2 id='automatic-rebooting'>Automatic rebooting</h2><p>If machines are not rebooting automatically, there may be a problem with the locking mechanism.
See next section.</p>
<h3 id='checking-locking-status'>Checking locking status</h3><p><a href="https://github.com/coreos/locksmith">locksmith</a> manages unattended reboots to
ensure that systems are available. It is possible that a problem could occur
where they can&rsquo;t reboot automatically.</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>$ fab &lt;environment&gt; all locksmith.status
</code></pre></div><p>If a lock is in place, it will detail which machine holds the lock.</p>
<p>You can remove it with:</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>$ fab &lt;environment&gt; -H &lt;machine-name&gt; locksmith.unlock:"&lt;machine-name&gt;"
</code></pre></div><p>Machines that are safe to reboot should then do so at the scheduled
time.</p>
<h2 id='manual-rebooting'>Manual rebooting</h2>
<blockquote>
<p>Before rebooting anything manually, see if any <a href="#special-cases">special cases</a> apply to the type of machine you need to reboot.</p>
</blockquote>
<h3 id='rules-of-manual-rebooting'>Rules of manual rebooting</h3>
<ul>
<li>Do not reboot more than one machine of the same class at the same time.</li>
<li>There are Icinga alerts that warn if machines need rebooting. Those
alerts will tell you if it&rsquo;s a manual reboot, and whether it&rsquo;s in-
or out-of-hours.</li>
<li>There is <a href="#rebooting-guidance-for-aws">extra guidance if the machine you are rebooting is in AWS</a>.
You may wish to pair with the RE interruptible/on call person.</li>
</ul>
<h3 id='rebooting-one-machine'>Rebooting one machine</h3><p>First check whether the machine is safe to reboot. This information is
stored in puppet in hieradata. For example,
<a href="https://github.com/alphagov/govuk-puppet/blob/master/hieradata/class/mysql_master.yaml">here</a>
is an example of a machine that cannot be safely rebooted. The
<a href="https://github.com/alphagov/govuk-puppet/blob/master/modules/govuk_safe_to_reboot/manifests/init.pp">default</a>
is <code>safe_to_reboot::can_reboot: &#39;yes&#39;</code>.</p>

<blockquote>
<p>If there is an incident which requires the rebooting of a machine
otherwise marked as &lsquo;no&rsquo;, then it may be done provided any downstream
effects of this reboot have been considered.</p>
</blockquote>
<p>If you want to reboot the machine immediately:</p>

<ol>
<li><p>Schedule downtime in Icinga, or let 2ndline know that there will be
alerts for a machine being down.</p></li>
<li><p>SSH into it and run:</p></li>
</ol>
<div class="highlight"><pre class="highlight shell" tabindex="0"><code>   <span class="nb">sudo </span>reboot
</code></pre></div><h3 id='rebooting-guidance-for-aws'>Rebooting guidance for AWS</h3><p>If rebooting machines in AWS, extended reboot times may result in the
relevant machine being terminated automatically. If this happens, a
new machine will be created automatically.</p>
<p>There have been a few cases when a reboot in AWS has not come back successfully
and RE will be able to help in these cases. It also means RE can investigate
any problems so it doesn&rsquo;t happen again and we have confidence in our ability
to reboot machines in AWS.</p>
<p>There&rsquo;s a <a href="#rebooting-cache-machines-in-aws">section on rebooting <code>cache</code> machines in AWS</a>.</p>
<h2 id='special-cases'>Special cases</h2><h3 id='rebooting-jenkins-ci-agents'>Rebooting Jenkins CI agents</h3><p>Sometimes a CI agent starts continually erroring on Jenkins jobs, and the
most straightforward way of fixing the issue is to reboot the machine.</p>
<p>First, visit the <a href="https://ci.integration.publishing.service.gov.uk/computer/">Jenkins nodes list</a>.
Click on the problematic agent and then &ldquo;Mark this node temporarily
offline&rdquo;. You&rsquo;ll need to provide a reason, which could just be &ldquo;to reboot
problematic agent&rdquo;. This will stop the agent from being used for new jobs.</p>
<p>SSH into the agent; the machine number to SSH into will match the agent
number. For example:</p>
<div class="highlight"><pre class="highlight shell" tabindex="0"><code>gds govuk connect ssh <span class="nt">-e</span> integration ci_agent:6
</code></pre></div><p>Reboot the machine: <code>sudo reboot</code>.</p>
<p>Finally, go back into the Jenkins nodes list to take the node online and
then to &ldquo;Launch agent&rdquo;. You&rsquo;ll be taken to the live log for the agent,
where you should see the output <code>Agent successfully connected and online</code>.</p>
<h3 id='rebooting-cache-machines-in-aws'>Rebooting Cache machines in AWS</h3><p>The <code>cache</code> machines run the <code>router</code> app which handles live user traffic.
To safely reboot them without serving too many errors to users, we must
remove them from the AWS load balancer target groups before rebooting.</p>
<p>The tool for rebooting cache machines is in the govuk-puppet repository. This
is the recommended way to reboot a cache machine:</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>cd govuk-puppet
gds aws govuk-integration-poweruser -- ./tools/reboot-cache-instances.sh -e integration ip-1-2-3-4.eu-west-1.compute.internal
</code></pre></div><p>The tool takes an environment and a private DNS name, which are provided by the
Icinga alert.</p>
<p>You can also follow this process manually:</p>

<ol>
<li>Login to the AWS Console for the relevant environment (<code>gds aws govuk-&lt;environment&gt;-&lt;your-role&gt; -l</code>).</li>
<li>Find the <a href="https://eu-west-1.console.aws.amazon.com/ec2/home?region=eu-west-1#Instances:sort=desc:launchTime">Instance ID</a>
of the critical machine(s) (probably all 8 <code>blue-cache</code> machines)</li>
<li>Navigate to the <code>blue-cache</code> Auto Scaling Group (ASG)</li>
<li>Put the instance into a &ldquo;Standby&rdquo; state, which will detach the instance
from its Target Groups</li>
<li>Once the instance is in a Standby state, SSH onto the machine (find this
from the reboots required alert listing)</li>
<li>Check the traffic has reduced to only be the Smokey healthchecks now: <code>tail -f /var/log/nginx/lb-access.log</code>.</li>
<li>Schedule downtime in icinga and run <code>sudo reboot</code> on the remote machine like normal.</li>
<li>In the <code>blue-cache</code> ASG, move the instance back to the &ldquo;InService&rdquo; state,
which will re-add the instance to the Target Groups</li>
<li>Check the traffic is flowing from the load balancer with <code>tail -f /var/log/nginx/lb-access.log</code> again.</li>
</ol>
<h3 id='rebooting-mongodb-machines'>Rebooting MongoDB machines</h3><p>You can see our MongoDB machines by running:</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>$ fab $environment puppet_class:mongodb::server hosts
</code></pre></div><p>All secondary Mongo machines will reboot overnight. If you don&rsquo;t need to
reboot the cluster right now, step the current primary down and allow it
to reboot overnight:</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>$ fab $environment -H $hostname mongo.step_down_primary
</code></pre></div><p>Example:</p>
<div class="highlight"><pre class="highlight shell" tabindex="0"><code><span class="nv">$ </span>fab aws_production <span class="nt">-H</span> ip-127-0-0-11.eu-west-1.compute.internal mongo.step_down_primary
</code></pre></div><p>(note that the example IP is fake)</p>
<p>The general approach for rebooting machines in a MongoDB cluster is:</p>

<ul>
<li>Check cluster status with <code>fab $environment -H $hostname mongo.status</code></li>
<li>Using <code>fab $environment -H $hostname mongo.safe_reboot</code>

<ul>
<li>Reboot the secondaries</li>
<li>Reboot the primary. The <code>mongo.safe_reboot</code> Fabric task automates stepping down the primary and waiting for the cluster to recover before rebooting.</li>
</ul></li>
</ul>
<h3 id='rebooting-redis-machines'>Rebooting Redis machines</h3><p>Unless there are urgent updates to apply, these machines should not be
rebooted during working hours in production. Other services rely directly on
particular Redis hosts and may error if they are unvailable.</p>
<p>Reboots of these machines, in the production environment, should be organised
by On Call staff and search-api workers must be restarted (by re-deploying the latest release) after the reboot.</p>
<p>They may be rebooted in working hours in other environments, however you
should notify colleagues before doing so as this may remove in-flight jobs
that Sidekiq has added to the Redis queues but not yet processed.</p>
<h3 id='rebooting-rabbitmq-machines'>Rebooting RabbitMQ machines</h3><p>There&rsquo;s a Fabric task to reboot all nodes in the RabbitMQ cluster,
waiting for the cluster to recover before rebooting the next node.</p>

<blockquote>
<p><strong>Note</strong></p>
<p>We have had a couple of incidents after running this script, so it should only
be done in-hours and requires careful monitoring. See:</p>
<p>1) <a href="https://docs.google.com/document/d/19gCq7p7OggkG0pGNL8iAspfnwR1UrsZfDQnOYniQlvM/edit?pli=1#">No non-idle RabbitMQ consumers</a> - This required killing RabbitMQ processes to resolve.</p>
<p>2) <a href="https://docs.google.com/document/d/1ia3OGn-v0bimW4P0vRtKUVeVVNh7VEiXjHqlc9jfeFY/edit#heading=h.p99426yo0rbv">Publishing API jobs became stuck</a> - This required restarting Publishing API workers to resolve.</p>
</blockquote>
<p>If there are problems with the cluster (eg, a partition has happened),
the <code>safe_reboot</code> script will not reboot anything, and you&rsquo;ll need to
take manual action to resolve the problem.</p>

<ul>
<li>Reboot the nodes in the cluster:</li>
</ul>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>fab &lt;environment&gt; class:rabbitmq rabbitmq.safe_reboot
</code></pre></div><p>If any applications start alerting due to <code>rabbitmq-1</code> being rebooted
then either add a note here about how to make that application recover,
or get the team responsible to make it point to the cluster.</p>
<p>Rebooting rabbitmq may cause alerts for other apps which can be restarted,
for example email-alert-api.</p>
<p>You can ssh into individual machines to restart the service:</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>sudo service email-alert-api restart
</code></pre></div><h3 id='rebooting-asset-primary-and-secondary-machines'>Rebooting asset primary and secondary machines</h3><p>Unless there are urgent updates to apply the primary machine should not be
rebooted in production during working hours - as the primary machine is required
for attachments to be uploaded.</p>
<p>The secondary machines can be rebooted as they hold a copy of data and are resynced
regularly.</p>
<p>Reboots of the step_down_primary machine should be organised by On Call staff,
for the production environment.</p>
<p>You may reboot the primary machine in the staging environment during working
hours however it is prudent to warn colleagues that uploading attachments will
be unavailable during this period.</p>
<h3 id='rebooting-router-backend-machines'>Rebooting router-backend machines</h3><p>Router backend machines are instances of MongoDB machines and can be rebooted
as per the <a href="#rebooting-mongodb-machines">MongoDB rebooting guidance</a>.</p>
<h3 id='rebooting-jumpbox-machines'>Rebooting jumpbox machines</h3><p>These machines are safe to reboot during the day. During the night they
are involved in a data sync processes and rebooting could cause the data
sync to fail.</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>sudo reboot
</code></pre></div><h3 id='rebooting-docker-management'>Rebooting docker-management</h3><p>It is safe to reboot while no other unattended reboot is underway - see https://github.com/alphagov/govuk-puppet/blob/master/hieradata_aws/class/docker_management.yaml</p>


  <div class='related-content'>

    <h3>More in the Infrastructure section</h3>

    <div class='govuk-grid-row'>
        <div class='govuk-grid-column-one-half'>
          <h4>Learn</h4>

          <ul class="govuk-list">
            <li><a href="/manual/govuk-app-domain-handling-during-migration.html">app_domain handling in GOV.UK during migration to AWS</a></li>
            <li><a href="/manual/concourse.html">Concourse</a></li>
            <li><a href="/manual/dns.html">Domain Name System (DNS) records</a></li>
            <li><a href="/manual/vpn.html">GOV.UK and Virtual Private Networks (VPNs)</a></li>
            <li><a href="/manual/environments.html">GOV.UK's environments (integration, staging, production)</a></li>
            <li><a href="/manual/load-testing.html">Load Testing</a></li>
            <li><a href="/manual/upgrade-terraform.html">Upgrade Terraform</a></li>
          </ul>
        </div>

        <div class='govuk-grid-column-one-half'>
          <h4>How to...</h4>

          <ul class="govuk-list">
            <li><a href="/manual/ruby.html">Add a new Ruby version</a></li>
            <li><a href="/manual/generate-csr.html">Generate a Certificate Signing Request (CSR) for GOV.UK</a></li>
            <li><a href="/manual/rabbitmq.html">Manage RabbitMQ</a></li>
            <li><a href="/manual/auto-scaling-groups.html">Manually resize ASGs (auto scaling groups)</a></li>
            <li><a href="/manual/manually-resize-ebs.html">Manually resize EBSs (elastic block store)</a></li>
            <li><a href="/manual/mapit-caches.html">Mapit Caches</a></li>
            <li><a href="/manual/move-apps-between-servers.html">Move apps between servers</a></li>
            <li><a href="/manual/patching-jenkins.html">Patch Jenkins</a></li>
            <li><a href="/manual/provision-machines-for-data-science-research.html">Provision machines for data science research</a></li>
            <li><a href="/manual/remove-machines.html">Remove a machine</a></li>
            <li><a href="/manual/renew-a-tls-certificate.html">Renew a TLS certificate for GOV.UK</a></li>
            <li><a href="/manual/reprovision.html">Reprovision a machine</a></li>
            <li><a href="/manual/scale-mapit.html">Scale Mapit</a></li>
            <li><a href="/manual/unable-to-ssh-into-machine.html">Unable to SSH into a machine</a></li>
          </ul>
        </div>

    </div>
</div>


            
          </main>

          <aside>
              <ul class="contribution-banner">
                <li><a href="https://github.com/alphagov/govuk-developer-docs/blob/master/source/manual/alerts/rebooting-machines.html.md">View source</a></li>
                <li><a href="https://github.com/alphagov/govuk-developer-docs/issues/new?labels=bug&amp;title=Re:%20'Reboot%20a%20machine'&amp;body=Problem%20with%20'Reboot%20a%20machine'%20(https://docs.publishing.service.gov.uk/manual/alerts/rebooting-machines.html)">Report problem</a></li>
                <li><a href="https://github.com/alphagov/govuk-developer-docs">GitHub Repo</a></li>
              </ul>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">

        <ul class="govuk-footer__inline-list">
            <li class="govuk-footer__inline-list-item">
              <a class="govuk-footer__link" href="/accessibility.html">Accessibility</a>
            </li>
        </ul>

      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="/javascripts/application.js"></script>
  </body>
</html>
